(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{644:function(e,t,a){Promise.resolve().then(a.bind(a,3631))},3631:function(e,t,a){"use strict";a.r(t);var r=a(7437),l=a(2265);t.default=()=>{let[e,t]=(0,l.useState)(!1),[a,s]=(0,l.useState)(!1),[n,o]=(0,l.useState)(""),[i,d]=(0,l.useState)([]),c=(0,l.useRef)(null);(0,l.useEffect)(()=>{let fetchImages=async()=>{try{let e=await fetch("/api/s3-images"),t=await e.json();e.ok&&t.images?d(t.images):console.error("Failed to fetch images")}catch(e){console.error("Error fetching images:",e)}};fetchImages()},[]);let handleFileUpload=async e=>{if(!e)return;if(o(e.name),i.some(t=>t.includes(e.name))){alert('An image with the name "'.concat(e.name,'" has already been uploaded.'));return}if(!["image/jpeg","image/png","image/gif"].includes(e.type)){alert("Only JPG, PNG, and GIF files are allowed.");return}t(!0);let a=new FormData;a.append("file",e);try{let e=await fetch("/api/s3-upload",{method:"POST",body:a}),t=await e.json();e.ok&&t.imageUrl?d(e=>[t.imageUrl,...e]):console.error("Failed to upload image")}catch(e){console.error(e)}finally{t(!1),o("")}};return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-between min-h-screen bg-green-600",children:[(0,r.jsxs)("div",{className:"w-96 h-96 border-2 border-dashed rounded-lg flex flex-col items-center justify-center p-5 mt-10 ".concat(a?"border-white":"border-gray-400"),onDragOver:e=>{e.preventDefault(),s(!0)},onDragLeave:()=>{s(!1)},onDrop:e=>{e.preventDefault(),s(!1);let t=e.dataTransfer.files[0];handleFileUpload(t)},children:[(0,r.jsx)("div",{className:"text-white text-6xl",children:(0,r.jsx)("i",{className:"fas fa-cloud-upload-alt"})}),(0,r.jsx)("header",{className:"text-white text-4xl font-medium mb-2 text-center font-sans",children:"Drag & Drop to Upload Image"}),(0,r.jsx)("br",{}),(0,r.jsx)("span",{className:"text-white text-2xl font-sans font-medium mb-4",children:"OR"}),(0,r.jsx)("button",{className:"bg-white text-green-900 py-2 px-6 rounded-lg font-sans text-lg font-medium hover:bg-gray-400 transition-all bg-[#eee] border-none w-[10em] text-lightcoral border-radius-[1rem] box-shadow-[0_0.4rem_#dfd9d9] cursor-pointer active:text-white active:box-shadow-[0_0.2rem_#dfd9d9] active:transform-[translateY(0.2rem)] hover:not\\\\(:disabled\\\\):bg-lightcoral hover:not\\\\(:disabled\\\\):text-white hover:not\\\\(:disabled\\\\):text-shadow-[0_0.1rem_#bcb4b4] disabled:cursor-auto disabled:text-grey",onClick:()=>{c.current.click()},children:"Browse File"}),(0,r.jsx)("input",{ref:c,type:"file",accept:"image/*",onChange:e=>{let t=e.target.files[0];handleFileUpload(t)},disabled:e,className:"hidden"})]}),e&&(0,r.jsxs)("p",{className:"text-white mt-4",children:["Uploading: ",(0,r.jsx)("strong",{children:n})]}),(0,r.jsx)("div",{className:"w-90 flex-grow mt-6",children:(0,r.jsx)("div",{className:"grid grid-cols-3 gap-4",children:i.map((e,t)=>(0,r.jsx)("div",{className:"relative w-full h-32 overflow-hidden",children:(0,r.jsx)("img",{src:e,alt:"Uploaded ".concat(t),className:"w-full h-full object-cover rounded-lg"})},t))})})]})}},622:function(e,t,a){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=a(2265),l=Symbol.for("react.element"),s=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),n=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,a){var r,i={},d=null,c=null;for(r in void 0!==a&&(d=""+a),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!o.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:l,type:e,key:d,ref:c,props:i,_owner:n.current}}t.jsx=q,t.jsxs=q},7437:function(e,t,a){"use strict";e.exports=a(622)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=644)}),_N_E=e.O()}]);