(()=>{var e={};e.id=931,e.ids=[931],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},47:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=a(7096),s=a(6132),n=a(7284),i=a.n(n),o=a(2564),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(t,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,2775)),"D:\\NEXT JS PROJECTS\\upload images\\src\\app\\page.js"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,4553)),"D:\\NEXT JS PROJECTS\\upload images\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\NEXT JS PROJECTS\\upload images\\src\\app\\page.js"],m="/page",u={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5406:(e,t,a)=>{Promise.resolve().then(a.bind(a,9119))},9119:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var r=a(784),s=a(9885);let __WEBPACK_DEFAULT_EXPORT__=()=>{let[e,t]=(0,s.useState)(!1),[a,n]=(0,s.useState)(!1),[i,o]=(0,s.useState)(""),[l,d]=(0,s.useState)([]),c=(0,s.useRef)(null);(0,s.useEffect)(()=>{let fetchImages=async()=>{try{let e=await fetch("/api/s3-images"),t=await e.json();e.ok&&t.images?d(t.images):console.error("Failed to fetch images")}catch(e){console.error("Error fetching images:",e)}};fetchImages()},[]);let handleFileUpload=async e=>{if(!e)return;if(o(e.name),l.some(t=>t.includes(e.name))){alert(`An image with the name "${e.name}" has already been uploaded.`);return}if(!["image/jpeg","image/png","image/gif"].includes(e.type)){alert("Only JPG, PNG, and GIF files are allowed.");return}t(!0);let a=new FormData;a.append("file",e);try{let e=await fetch("/api/s3-upload",{method:"POST",body:a}),t=await e.json();e.ok&&t.imageUrl?d(e=>[t.imageUrl,...e]):console.error("Failed to upload image")}catch(e){console.error(e)}finally{t(!1),o("")}};return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-between min-h-screen bg-green-600",children:[(0,r.jsxs)("div",{className:`w-96 h-96 border-2 border-dashed rounded-lg flex flex-col items-center justify-center p-5 mt-10 ${a?"border-white":"border-gray-400"}`,onDragOver:e=>{e.preventDefault(),n(!0)},onDragLeave:()=>{n(!1)},onDrop:e=>{e.preventDefault(),n(!1);let t=e.dataTransfer.files[0];handleFileUpload(t)},children:[r.jsx("div",{className:"text-white text-6xl",children:r.jsx("i",{className:"fas fa-cloud-upload-alt"})}),r.jsx("header",{className:"text-white text-4xl font-medium mb-2 text-center font-sans",children:"Drag & Drop to Upload Image"}),r.jsx("br",{}),r.jsx("span",{className:"text-white text-2xl font-sans font-medium mb-4",children:"OR"}),r.jsx("button",{className:"bg-white text-green-900 py-2 px-6 rounded-lg font-sans text-lg font-medium hover:bg-gray-400 transition-all bg-[#eee] border-none w-[10em] text-lightcoral border-radius-[1rem] box-shadow-[0_0.4rem_#dfd9d9] cursor-pointer active:text-white active:box-shadow-[0_0.2rem_#dfd9d9] active:transform-[translateY(0.2rem)] hover:not\\\\(:disabled\\\\):bg-lightcoral hover:not\\\\(:disabled\\\\):text-white hover:not\\\\(:disabled\\\\):text-shadow-[0_0.1rem_#bcb4b4] disabled:cursor-auto disabled:text-grey",onClick:()=>{c.current.click()},children:"Browse File"}),r.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:e=>{let t=e.target.files[0];handleFileUpload(t)},disabled:e,className:"hidden"})]}),e&&(0,r.jsxs)("p",{className:"text-white mt-4",children:["Uploading: ",r.jsx("strong",{children:i})]}),r.jsx("div",{className:"w-90 flex-grow mt-6",children:r.jsx("div",{className:"grid grid-cols-3 gap-4",children:l.map((e,t)=>r.jsx("div",{className:"relative w-full h-32 overflow-hidden",children:r.jsx("img",{src:e,alt:`Uploaded ${t}`,className:"w-full h-full object-cover rounded-lg"})},t))})})]})}},2775:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Home});var r=a(4656),s=a(5153);let n=(0,s.createProxy)(String.raw`D:\NEXT JS PROJECTS\upload images\src\app\components\S3UploadForm.jsx`),{__esModule:i,$$typeof:o}=n,l=n.default;function Home(){return r.jsx("main",{children:r.jsx(l,{})})}},784:(e,t,a)=>{"use strict";e.exports=a(316).vendored["react-ssr"].ReactJsxRuntime}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[481,128],()=>__webpack_exec__(47));module.exports=a})();